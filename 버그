<버그>

1. (02.05) RecyclerView에서 항목 삭제 시 요일이 이전 항목에 겹쳐지는 현상이 발생함 - C
- 요일만 겹쳐지고 시간은 겹쳐지지 않음...(왜?)
- 설정 탭에 들어갔다가 다시 알람 탭으로 돌아오면 괜찮아져있음
-> notifyDataSetChanged() -> notifyItemRangeChanged()로 변경  => 괜찮아짐

2. (02.05) Front 알람에서 계산문제를 일부러 틀리게 넣고 ok 버튼을 눌렀는데 액티비티가 종료됨... - C

3. (02.06) Fornt 알람에서 AppClass가 이상하게 작동함, Calculate 프래그먼트에서는 제대로 문제가 있는데 Front 액티비티에서는 0으로 출력됨 - C
- AppClass에서 데이터를 가져오는 순서가 액티비티 -> 프래그먼트인거 같음
- 그렇게 되면 액티비티에선 아무것도 넣지 않기 때문에 0이되고 프래그먼트에서는 랜덤한 값을 넣기 때문에 서로 다른 값을 갖게됨
-> 액티비티 - 프래그먼트 데이터 전달로 계산 문제 내야할듯...


4. (02.05)Front 액티비티에서 글자가 1개 남았을 때 C버튼을 누르면 에러 발생 - C
- 남은 글자가 1글자 이하일 때는 그냥 전부 삭제로 변경

5. (02.07)short 알람에서 다음 날로 알람 설정 시 Receiver() 호출됨...;; - C
- makeAlarm.kt의 onReceiver() 에서 present_week랑 arrayFromMakeAlarm의 인덱스가 제대로 매치되지 않아서 발생한 에러였음
- 그리고 알람 매니저는 아래와 같은 알고리즘으로 움직인다
- 현재시간 : 21시 00분    /     알람 설정시간 (with 알람 매니저) : 20시 00분
- 요일에 대한 설정을 하지 않았을 경우 현재시간보다 알람 설정 시간이 늦기 때문에 무조건 이렇게 알람을 만들자마자 onReceive() 로 신호를 보낸다
- 즉, 현재 시간보다 설정한 알람의 시간이 이전 시간일 경우 설정을 하자마자 알람이 울림
- 이를 날짜 or 요일 설정을 이용하여 컨트롤해야한다

6. (02.08) short 알람의 경우 5-1의 방법으로 해결했지만 normal 알람의 경우 다른 방법이 필요함 - C
- 날짜 계산을 따로 넣음

7. (02.11) diffWeek 계산에서 weekList의 계산 순서를 일~토 이렇게 진행하기 때문에 제일 낮은 숫자의 남은 일수가 아닌 일 ~ 토 순서로 남은 날짜가 반환됨 - C
- 리스트에 남은 날짜를 모두 넣고 그 중에서 젤일 작은 숫자를 반환하게 바꿈

8. (02.13) 같은 요일 + 같은 시간으로 알람을 설정하면 inform 메서드가 무조건 당일 알림으로 출력함 - C
- 날짜 비교를 할 때 요일 & 시간으로만 비교해서 그런듯... - C

10. (02.14) 일반 알람 반복으로 울리지 않음 - C
- 보니까 alarm_once() 메서드를 호출중이었음
- setExactAndAllowWhileIdle() -> setInexactRepeating() 으로 변경하고 alarm_normal()을 호출하게 바꿈

11. (02.14) 알람 설정을 해당 요일로 하고 현재시간보다 낮은 시간으로 설정하면 알람을 설정하자마자 바로 울린다 - C
- 노말 알람 설정에서만 일어나는 현상임 - C
- onReceiver()에서 판단을 '주'만 해서 그럼 -> 시간, 분도 판단하도록 바꾸기 - C

12. quick 알람의 경우 seekBar를 만지지 않고 그냥 알람을 생성하면 progress 값이 0으로 되어있음 - C
- 초기 값을 100으로 설정할 필요 있음 - C

13. (02.22) settingFragment에서 AppClass의 wayOfAlarm을 바꿔도 항상 고정되어서 나옴 - C
- appClass에 대한 정의를 잘못했음
- context.applicationContext As AppClass()로 변경

14. (02.23) Quick 알람의 경우 울린 후 RecyclerView에서 자동으로 해당 item 항목 삭제되게 하기- C

15 (03.02) Quick 알람의 경우 울린 후 notification도 갱신하기 - C
- 일단 FrontActivity에서 "ok"버튼 클릭시 notification을 갱신하긴함
- 일반 알람 생성 후 ok 버튼 클릭하면 notification을 갱신만 하지 더 이상 울릴 알람이 없을 때 notification을 제거하지 않는다
- 즉, 다른 알람이 남아 있을 경우 갱신되지만 다른 알람이 없을 경우에는 삭제되지 않고 그대로 남아있게 된다

16. (03.15) cal문제에서 C를 눌러 문자를 삭제해도 실제 변수에서 삭제되지 않음(화면에서만 문자가 1개 삭제됨)

17. (03.15) 알람음이 반복하여 재생되지 않음 - C

18. (03.16) CalculateProblemFragment 공란에서 C 누르면 걍 꺼짐 - C
- 이제 보니 제일 뒤 문자가 아닌 뒤에서 2번째 문자를 지우고 있었음
- CalculateProblemFragment에 C를 눌렀을 때도 답변 변수에 데이터를 전송하게 만들었는데
  공란 때에도 전송하게 만들어 에러가 발생했던거임

19. (03.16) 숫자 버튼 눌러도 재생이 멈추지 않음... - C

20. (03.20) 리사이클러뷰의 토글 버튼 클릭 시 notification이 제대로 반영되지 않음 - ing
- 삭제 버튼에 대해서는 잘 됨
- RecentAlarm 부분의 마지막에 인덱스 처리 과정에서 문제가 있음

21. (03.20) 안드로이드 10 이상에서는 백그라운드에서 액티비티 표시가 안됨 - C
- WINDOW ALERT PERMISSION 필요함
- 설명을 위한 dialog도 설정함

22. (03.21) 토글 on/off 변화에 따라 alarmFragment에 있는 textView가 반응하지 않음 - C
- notification은 잘 됨

24. (03.22) 근시일 내에 울리는 알람은 잘 되는데 다음 날 울리는 알람 같은건 잘 안됨... - C
- 자기 전에 알람 해놓고 잤더니 안됨
- 다음 날 울리는 알람은 과거의 시간으로 설정됨
- 그래서 과거 시간으로 설정시 브로드캐스트가 바로 호출되는거였음
- 다음 날로 설정 시 해당 시간에 +24 시간 처리를 하여 바로잡음

23. (03.22) 실제 휴대폰에서 진동 안됨 - C

25. (03.24) 알람 울릴 때 FrontActivity를 무시 하고 다른 앱을 띄우거나 하면 계속 진동과 소리 나옴 - C
- onStop, onResume을 추가하여 정지 / 재시작 기능을 추가함

26. (03.27) 알람 울릴 때 소리가 설정한 소리대로 나오지 않음 - C
- 앱을 실행시킨 상태(앱이 열려있거나 보이지 않더라도 백그라운드에서 아직 실행중일때)는 볼륨이 잘 컨트롤되서 나온다 - C
- 잠금 화면에서 바로 나올 때는 이게 무시된다
- 진동은 언제 어디서든 잘 된다
-> 볼륨 컨트롤을 makeAlarm으로 옮겨서 해결

27. (03.27) quick 알람에서 8:59에 +1분을 하면 1시간 1분 뒤라고 Toast가 나옴 - C

28. (03.30) 알람이 울린 뒤 notification의 데이터가 갱신되지 않음 - C
- 스레드로 60초 뒤에 notification을 갱신하게 만듬

29. (03.30) notification의 아이콘이 어두운 화면이나 작업표시줄에선 보이지 않음 - C
- 검은색이 아닌 희색으로 바꿈

30. (04.01) 알람이 울리자마자 확인 or 10분 뒤를 누를 경우 노래 & 진동이 멈추지 않음 - C
- 그런데 FrontActivity는 종료되긴함
- 이 현상 발생할 시, 삭제 & 재설치하지 않는 한 다음 알람 안울림
- 그런데 등록은 이상하게 잘됨...
=> 진동에 대한 변수 선언을 초반부에 하도록 변경해서 해결

31. (04.07) 알람이 안울릴 때 있는거 같음
- 실제로 안울리는건지 뭔지 모르겠으니 조금 확인해야할거 같음
- 알람 울렸을 때 파일 만들어서 데이터 기록하게 하기
- 알람이 전부 제대로 등록되어있는지 확인하는 부분 만들기
- 위 부분은 아직 전부 베타 테스터로 숨겨진 기능으로 만들어 놓기(앱 버전 적힌 이미지 길게 클릭)

32. (04.08) 앱을 업데이트 하면 설정되어 있던 브로드캐스트가 전부 사라짐 - C
- SQL이나 다른 저장 파일들은 그대로 있는거 같음
=> 앱을 열 때마다 모든 알람을 재설정(브로드캐스트 재설정)

33. (04.09) 실시간 다음 알람표시(notification)이 안될 때 있음
-> SystemClock.sleep인줄 알았는데 Thread에 있는 sleep을 쓰고 있었음...
- Thread에 있는 sleep은 해당 시간만큼 절전모드로 변환하는거임...

34. (04.09) 알람 울린 후 ok를 누르면 자꾸 mainActivity를 보여줌 - C
-> ok 누를 시 activityinfinity로 해결

35. (04.12) 알람의 on/off 꺼도 알람 울림 - C
- 앱켜거나 폰을 재부팅 시 모든 알람을 다시 설정하게 만들어서 그럼
-> switch가 on인 앱만 다시 알람 설정하게 바꿈

36. (04.12) switch가 off 인 알람도 예정된 알람 리스트를 보면 등록되있는 상태임 - C
-> 브로드캐스트뿐 아니라 pendingIntent도 cancel을 해줘야 반영됨

37. (04.13) 인앱 업데이트가 새로운 버전을 다운로드만 하지 설치를 하지않음 - C
-> FlEXIBLE 모드의 경우 이 설치 부분도 따로 진행해줘야 했음

38. (04.17) 재부팅 시 알람이 새로 업데이트 되지 않는 문제 발생 - C
- Manifest에 있는 update intent를 위해 넣은 pakage 부분이 문제였음...

39. (04.18) Quick 알람 뒤에 새로운 알람을 넣을 경우 앱이 열리지 않는 버그 - C
- Quick 알람의 경우 알람이 울린 뒤 SQL 데이터에서 해당 부분을 삭제하는데
  삭제 이후 인덱스가 재정렬되지 않아서 발생
-> RecentAlarm.kt에서 인덱스 재정렬을 SQL에서 가져오는 것이 아니라 그냥 1부터 넣는 것으로 변경

40. (04.18) Quick 알람이 울리고난 뒤 SQL 인덱스가 1부터 다시 갱신되지 않음 - C
-> makeAlarm의 quick 알람이 울리니는 부분에 아얘 SQL 인덱스를 갱신하는 코드가 없었음...

41. (04.28) actionButton을 클릭하면 여러 개의 broadCast가 호출됨 - C
- BroadCast 인텐트 필터 생성을 notification을 renew할 때 마다 실시하게 했었음
-> MainActivity의 onCreate()에서 broadCast를 register 하도록 변경

42. (04.29) 앱을 재실행 하고 actionButton을 누르니 다시 브로드 캐스트가 여러 번 호출됨
- unregisterReceiver를 안하니까 onCreate()에서 실행된 인텐트 필터 생성이 그대로 남아있음
- onDestroy() 및 service에 unregisterReceiver를 추가

43. (04.29) 업뎃하고나서 팅김 - C
- 업뎃 이후에는 순간적으로 모든 broadCast가 사라지는데 이때 unregisterReceiver를 실시하게 되면 에러가 발생함
-> unregisterReceiver 부분에 try 처리

44. (05.08) 계산문제에서 값이 맞던 틀리던 상관없이 계속 다음 알람을 확인하는 스레드가 발동함 - C
- 스레드 기능을 함수화 하여 액티비티 종료 직전에만 1번 실시하도록 바꿈

45. (05.11) 플로팅 버튼 길게 누를 시 사라져서 알락 삭제 가능하게 해야하는데 핸들링 중에 리사이클러뷰의 삭제버튼이 클릭안됨 - C
- 그냥 핸들러만 이용하여 처리 = 메인 스레드 사용 이기 때문에 에러만 안나지 핸들링 중에 화면 조작을 할 수 없는 것은 동일함
- 핸들러와 스레드를 같이 사용하여 IsGone 처리를 하도록 변경

46. (05.28) 설정 화면에 있는 벨소리 선택의 경우 미리듣기를 해도 똑같은 음악만 재생됨 - C
- 도중에 sharedPreference로 바꿨는데 이 부분에는 그게 적용되지 않았었음

47. (05.28) 계산 문제에서 숫자패드 클릭 시 음악 멈추는데 멈추는 시간이 너무 짧음 - C
- 1분으로 설계 했는데 보니까 10초로 되어있음
- 아마 테스트할 때는 10초로 했었는데 이를 1분으로 고치지 않았던거 같음
- 10초 -> 60초 -> 80초로 최종 수정함